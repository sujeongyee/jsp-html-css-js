<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>

        // 렉시컬 스코프 - 함수의 선언위치에 따라서 사용하는 변수가 달라진다.
        
        /*
        var a = 1;
        function func1(){
            a=10;
            console.log(a);
        }
        func1();
      

        
        var b = 1;
        function func2(){
            var b = 10;
            console.log('func2',b); //10
            func3(); // 1이 나온다,,,,
        }
        func2(); 
        console.log('밖',b); //1

        function func3(){
            console.log('func3',b); //1
        }
        func3();
        

        var c = 1;
        function func4(){
            var c = 10;
            func5()
            function func5(){
                console.log('func5',c); // 10이 된다....
            }
        }
        func4();

        */

        // 클로저 - 내부함수의 렉시컬 스코프를 이용해서, 외부에서 변수 a를 접근할 수 있는 환경을 만들어준다.
        // ----> private..

        function example(){
            
            var a = 1;

            return function(){
                return a
            };

        } // a 수명은 여기서 끝

        var a = example();
        console.log(a); // 함수가 반환됨
        console.log(a()); // 1이 나온다,a값

        console.log('------------------------------------------');

        // var count = 0;
        // ++count;
        // count = '홍길동'; // 에러발생
        // ++count;

        // console.log('카운트',count);

        // var compute = function(){
        //     var count = 0;
        //     return ++count;
        // }

        // console.log(compute()); //1
        // console.log(compute()); //1
        // console.log(compute()); //1
        // console.log(compute()); //1

        var compute = function(){
            var count = 0;
            return function(){
                return ++count;
            }
        }

        var x = compute ();

        console.log(x()); //1
        console.log(x());
        console.log(x());
        console.log(x());
        console.log(x());
        console.log(x());






    </script>
    
</body>
</html>